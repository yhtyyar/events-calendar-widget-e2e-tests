# Тест-план: Виджет календаря мероприятий

## 1. Стратегия тестирования

**URL**: https://dev.3snet.info/eventswidget/

### Цели
- Проверка работоспособности страницы виджета
- Валидация генерации и копирования кода
- Обеспечение кросс-браузерной совместимости
- Контроль адаптивности интерфейса

### Критерии приемки
- Все smoke-тесты (P0) проходят в 3 браузерах
- Функциональные тесты проходят на ≥95%
- Нет критических a11y-нарушений

---

## 2. Матрица покрытия

| Функционал | Smoke | Functional | Visual | A11Y | Приоритет |
|------------|:-----:|:----------:|:------:|:----:|:---------:|
| Загрузка страницы | ✅ | — | — | — | P0 |
| Заголовок/описание | ✅ | ✅ | ✅ | ✅ | P0 |
| Генерация кода | — | ✅ | — | — | P0 |
| Копирование | — | ✅ | — | — | P0 |
| Адаптивность | — | — | ✅ | — | P1 |
| Доступность | — | — | — | ✅ | P2 |

### Браузеры и устройства

| Проект | Браузер | Viewport | Приоритет |
|--------|---------|----------|:---------:|
| chromium | Chrome | 1920×1080 | P0 |
| firefox | Firefox | 1920×1080 | P0 |
| webkit | Safari | 1920×1080 | P0 |
| mobile-chrome | Chrome | Pixel 5 | P1 |
| mobile-safari | Safari | iPhone 12 | P1 |

---

## 3. Тестовые сценарии

### Smoke (P0) — `@smoke`
| ID | Сценарий |
|----|----------|
| SMOKE-01 | Страница загружается (HTTP 200) |
| SMOKE-02 | Заголовок «календарь мероприятий» виден |
| SMOKE-03 | Описание «Хочешь такой же?» присутствует |
| SMOKE-04 | Title страницы содержит «календарь» |
| SMOKE-05 | Футер отображается |
| SMOKE-06 | Нет критических ошибок в консоли |
| SMOKE-07 | Ссылка на календарь присутствует |
| SMOKE-08 | URL содержит «eventswidget» |

### Functional (P0) — `@functional`
| ID | Сценарий |
|----|----------|
| FUNC-01 | Форма генерации виджета видима |
| FUNC-02 | Поле с кодом вставки доступно |
| FUNC-03 | Код содержит HTML-теги (iframe/script) |
| FUNC-04 | Кнопка копирования кликабельна |
| FUNC-05 | Clipboard API доступен |

### Visual (P1) — `@visual`
| ID | Сценарий |
|----|----------|
| VIS-01 | Нет горизонтального скролла на mobile |
| VIS-02 | Ключевые элементы видны на tablet |
| VIS-03 | Desktop: все секции в viewport |

### Accessibility (P2) — `@accessibility`
| ID | Сценарий |
|----|----------|
| A11Y-01 | html[lang] присутствует |
| A11Y-02 | Все img имеют alt |
| A11Y-03 | h1 присутствует |
| A11Y-04 | Tab-навигация работает |

---

## 4. Известные ограничения

| Проблема | Влияние | Решение |
|----------|---------|---------|
| Firefox: Clipboard API | Средний | Fallback через execCommand |
| Mobile Safari: ограничения записи видео | Низкий | Только скриншоты |
| Динамический контент | Средний | Явные ожидания в тестах |

---

## 5. Команды запуска

```bash
npm test                    # Все тесты
npm run test:smoke          # Только smoke
npm run test:functional     # Функциональные
npm run test:chromium       # Chromium
npm run test:mobile         # Mobile
npm run test:ui             # Интерактивный режим
```

---

*Версия 2.0 | Январь 2025*
