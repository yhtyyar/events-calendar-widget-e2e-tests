# План тестирования: Виджет календаря мероприятий

## 1. Введение

### 1.1 Цель документа
Данный документ описывает стратегию и план тестирования веб-страницы виджета календаря мероприятий (https://dev.3snet.info/eventswidget/).

### 1.2 Объект тестирования
- **URL**: https://dev.3snet.info/eventswidget/
- **Тип**: Веб-страница с интерактивным виджетом
- **Основной функционал**: Генерация кода вставки календаря мероприятий

### 1.3 Бизнес-контекст
Виджет позволяет пользователям создавать и встраивать календарь мероприятий на свои сайты. Критически важные функции:
1. Отображение информации о виджете
2. Генерация валидного HTML-кода для вставки
3. Копирование кода в буфер обмена
4. Корректная работа на различных устройствах и браузерах

---

## 2. Стратегия тестирования

### 2.1 Уровни тестирования

| Уровень | Описание | Приоритет |
|---------|----------|-----------|
| Smoke | Базовая проверка работоспособности | P0 (критический) |
| Функциональный | Проверка основного функционала | P0 (критический) |
| Визуальный/Адаптивный | Проверка отображения на устройствах | P1 (высокий) |
| Доступность (a11y) | Базовые проверки accessibility | P2 (средний) |
| Производительность | Замеры скорости загрузки | P2 (средний) |

### 2.2 Матрица браузеров

| Браузер | Версия | Приоритет | Статус |
|---------|--------|-----------|--------|
| Chrome | Последняя | P0 | Обязательный |
| Firefox | Последняя | P0 | Обязательный |
| Safari (WebKit) | Последняя | P0 | Обязательный |
| Edge | Последняя | P1 | Желательный |

### 2.3 Матрица устройств

| Устройство | Viewport | Приоритет |
|------------|----------|-----------|
| Desktop | 1920x1080 | P0 |
| Desktop (малый) | 1366x768 | P1 |
| Tablet (iPad) | 768x1024 | P1 |
| Mobile (iPhone 12) | 375x812 | P0 |
| Mobile (Pixel 5) | 393x851 | P1 |

---

## 3. Область тестирования

### 3.1 В области тестирования (In Scope)

#### Критические функции (P0)
- Загрузка страницы и HTTP-статус
- Отображение основного заголовка
- Отображение описательного текста
- Наличие элементов генерации виджета
- Генерация валидного HTML-кода
- Копирование кода в буфер обмена

#### Важные функции (P1)
- Адаптивность на мобильных устройствах
- Корректное отображение на планшетах
- Отсутствие горизонтального скролла
- Видимость всех ключевых элементов

#### Дополнительные проверки (P2)
- Базовая доступность (a11y)
- Производительность загрузки
- Консольные ошибки JavaScript

### 3.2 Вне области тестирования (Out of Scope)
- Backend API (только клиентская часть)
- Авторизация пользователей
- Интеграция с внешними системами
- Нагрузочное тестирование
- Безопасность (security testing)

---

## 4. Тест-дизайн

### 4.1 Применяемые техники

#### Эквивалентное разбиение
- Браузеры: Chromium-based, Firefox, WebKit
- Устройства: Desktop, Tablet, Mobile
- Viewports: Большой (>1200px), Средний (768-1200px), Малый (<768px)

#### Граничные значения
- Минимальный поддерживаемый viewport: 320px
- Критические breakpoints: 768px, 1024px, 1200px

#### Попарное тестирование
Оптимизация комбинаций браузер + устройство:
| Комбинация | Браузер | Устройство |
|------------|---------|------------|
| 1 | Chrome | Desktop |
| 2 | Firefox | Desktop |
| 3 | WebKit | Desktop |
| 4 | Chrome | Mobile (Android) |
| 5 | WebKit | Mobile (iOS) |
| 6 | WebKit | Tablet (iPad) |

---

## 5. Критерии качества

### 5.1 Критерии входа
- Тестовое окружение доступно
- Зависимости установлены
- Браузеры установлены через Playwright

### 5.2 Критерии выхода
- Все smoke-тесты (P0) проходят успешно
- Не менее 90% функциональных тестов проходят
- Критические дефекты отсутствуют
- Отчет о тестировании сформирован

### 5.3 Критерии приостановки
- Тестовое окружение недоступно
- Обнаружен блокирующий дефект
- Страница возвращает HTTP-ошибку (4xx, 5xx)

---

## 6. Оценка рисков

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Нестабильность тестов (flaky) | Средняя | Высокое | Retry-логика, явные ожидания |
| Изменения в UI | Высокая | Среднее | Централизованные селекторы |
| Clipboard API в Firefox | Высокая | Среднее | Fallback-стратегия |
| Динамический контент | Средняя | Среднее | Ожидание загрузки |
| Сетевые таймауты | Низкая | Высокое | Настройка таймаутов |

---

## 7. Окружение и инструменты

### 7.1 Технологический стек
- **Фреймворк**: Playwright Test Runner
- **Язык**: TypeScript
- **CI/CD**: GitHub Actions
- **Репортинг**: HTML Reporter + JSON

### 7.2 Команды запуска

```bash
# Все тесты
npm test

# Smoke-тесты
npm run test:smoke

# Функциональные тесты
npm run test:functional

# Тесты в конкретном браузере
npm run test:chrome
npm run test:firefox
npm run test:webkit

# Мобильные тесты
npm run test:mobile
```

---

## 8. Расписание

| Фаза | Описание | Длительность |
|------|----------|--------------|
| Настройка | Конфигурация окружения | 1 день |
| Разработка тестов | Написание тестов | 2-3 дня |
| Прогон | Первичный прогон и стабилизация | 1 день |
| Поддержка | Регулярные прогоны в CI | Постоянно |

---

## 9. Ответственности

| Роль | Обязанности |
|------|-------------|
| QA Engineer | Разработка и поддержка тестов |
| DevOps | Настройка CI/CD |
| Разработчик | Исправление дефектов |

---

## 10. Метрики качества

- **Покрытие**: % критических сценариев с тестами
- **Стабильность**: % успешных прогонов за период
- **Время выполнения**: Общее время прогона всех тестов
- **Flaky rate**: % нестабильных тестов

---

*Документ версии 1.0*
*Дата создания: Январь 2025*
